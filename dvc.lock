schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/CNN_Classification_Task/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 70ace5d3a18bb879c6314847f7fb717d
      size: 864
    - path: src/CNN_Classification_Task/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: b0e0c70a436f1f32a586b13a6683c751
      size: 1045
    outs:
    - path: artifacts/data_ingestion/Chicken-fecal-images
      hash: md5
      md5: 9e1f8dd2eae3c29e9d635df89d438ae4.dir
      size: 12207807
      nfiles: 390
  prepare_base_model:
    cmd: python src/CNN_Classification_Task/pipeline/stage_02_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 70ace5d3a18bb879c6314847f7fb717d
      size: 864
    - path: src/CNN_Classification_Task/pipeline/stage_02_base_model.py
      hash: md5
      md5: f8228950ce868bdf1535160113c6c85b
      size: 1044
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 1dd6d572246d9dfda87b196534a62c38.dir
      size: 118056533
      nfiles: 2
  training:
    cmd: python src/CNN_Classification_Task/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/data_ingestion/Chicken-fecal-images
      hash: md5
      md5: 9e1f8dd2eae3c29e9d635df89d438ae4.dir
      size: 12207807
      nfiles: 390
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 1dd6d572246d9dfda87b196534a62c38.dir
      size: 118056533
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: 70ace5d3a18bb879c6314847f7fb717d
      size: 864
    - path: src/CNN_Classification_Task/components/prepare_callbacks.py
      hash: md5
      md5: 9d88591ab1e69356db9316a1a2071aae
      size: 1296
    - path: src/CNN_Classification_Task/pipeline/stage_03_model_training.py
      hash: md5
      md5: a52f445d16d7343e11e5cc6eefcdff7c
      size: 1651
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 1
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.keras
      hash: md5
      md5: 7ba08dbca716d3efc98fb8ed72200838
      size: 59133303
  evaluation:
    cmd: python src/CNN_Classification_Task/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/Chicken-fecal-images
      hash: md5
      md5: 9e1f8dd2eae3c29e9d635df89d438ae4.dir
      size: 12207807
      nfiles: 390
    - path: artifacts/training/model.keras
      hash: md5
      md5: 7ba08dbca716d3efc98fb8ed72200838
      size: 59133303
    - path: config/config.yaml
      hash: md5
      md5: 70ace5d3a18bb879c6314847f7fb717d
      size: 864
    - path: src/CNN_Classification_Task/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: 612c0c7ca441e522201951ac8dc18644
      size: 895
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: a41f62c19acf9cf9e6e88851c0667f14
      size: 57
